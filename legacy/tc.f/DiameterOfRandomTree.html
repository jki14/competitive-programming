<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Given a tree, let d(u,v) be the distance between nodes u and v in the tree.
In other words, d(u,v) is the length of the only simple path that connects u and v.
The diameter of the tree is the maximum of all d(u,v).<br></br>
<br></br>
You are given tuple (integer)s <b>a</b> and <b>b</b>, each containing n-1 elements.
These describe a tree with n nodes, labeled 0 through n-1.
For each valid i, the nodes <b>a</b>[i] and <b>b</b>[i] are connected by an edge.<br></br>
<br></br>
The length of each edge is generated randomly.
More precisely, the length of each edge is either 1 or 2 with equal probability.
The lengths of edges are mutually independent.<br></br>
<br></br>
Return the expected value of the diameter of the given tree.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>DiameterOfRandomTree</td></tr><tr><td>Method:</td><td>getExpectation</td></tr><tr><td>Parameters:</td><td>tuple (integer), tuple (integer)</td></tr><tr><td>Returns:</td><td>float</td></tr><tr><td>Method signature:</td><td>def getExpectation(self, a, b):</td></tr><tr><td colspan="2"></td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> will contain between 1 and 50 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> and <b>b</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>a</b> will be between 0 and |<b>a</b>|, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>b</b> will be between 0 and |<b>a</b>|, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The graph will be a tree.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,1,2,3}</pre></td></tr><tr><td><pre>{1,2,3,4}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6.0</pre></td></tr><tr><td><table><tr><td colspan="2">This graph is a single path: 0-1-2-3-4.
In this case, the diameter will always be the distance between nodes 0 and 4.
The expected length of each edge is 1.5, thus the expected distance between 0 and 4 equals 4 * 1.5 = 6.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,0}</pre></td></tr><tr><td><pre>{1,2,3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3.375</pre></td></tr><tr><td><table><tr><td colspan="2">This tree has three edges: 0-1, 0-2, and 0-3.
There are four possible cases:
<ul>
<li>With probability 1/8 all three edges have length 1. In this case, the diameter is 2.</li>
<li>With probability 3/8 the edges have lengths (1,1,2). In this case, the diameter is 3.</li>
<li>With probability 3/8 the edges have lengths (1,2,2). In this case, the diameter is 4.</li>
<li>With probability 1/8 all three edges have length 2. In this case, the diameter is also 4.</li>
</ul>
Thus, the expected diameter is (1/8)*2 + (3/8)*3 + (3/8)*4 + (1/8)*4 = 27/8 = 3.375.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,0,1,4}</pre></td></tr><tr><td><pre>{1,2,3,4,5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6.25</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,0,0,0,0,0,0}</pre></td></tr><tr><td><pre>{1,2,3,4,5,6,7,8}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3.9609375</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{0,0,0,1,2,3,5,6,8}</pre></td></tr><tr><td><pre>{1,2,3,4,5,6,7,8,9}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 10.53125</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
