<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>In a galaxy far far away... each week has N days.<br></br>
Luke Skywalker has exactly N shirts.<br></br>
The shirts are numbered 1 through N.<br></br>
Each day he wears one of those N shirts.<br></br>
Each week he wears each shirt exactly once.
<br></br><br></br>
In different weeks Luke may wear his shirts in different orders.<br></br>
However, not all orders are always possible.<br></br>
Whenever Luke wears a shirt for a day, he has to wash it before he can use it again.<br></br>
Washing and drying a shirt takes D-1 full days.<br></br>
In other words, if he wears a shirt on day x, the earliest day when he can wear it again is day x+D.
<br></br><br></br>
Master Yoda recently sent Luke on a training mission that lasted for some unknown number of full N-day weeks.
He remembers the order in which he wore his shirts during the first week of the mission.
He also remembers the order in which he wore his shirts during the last week of the mission.
You are given this information in vector &lt;int&gt;s <b>firstWeek</b> and <b>lastWeek</b>.
Each of these vector &lt;int&gt;s contains N elements: the numbers of shirts he wore during that week, in order.
You are also given the number of days <b>D</b> that it takes to wash a shirt.
<br></br><br></br>
For example, assume that N = 4, <b>firstWeek</b> = {1,2,3,4}, and <b>lastWeek</b> = {4,3,2,1} and <b>D</b> = 3.
It is possible that this particular mission took four weeks.
One possible order in which Luke could have worn his shirts looks as follows:
<ul>
<li>week 1: {1,2,3,4}</li>
<li>week 2: {2,3,4,1}</li>
<li>week 3: {3,4,2,1}</li>
<li>week 4: {4,3,2,1}</li>
</ul>

Given <b>firstWeek</b>, <b>lastWeek</b> and <b>D</b>, compute and return the smallest number of weeks the mission could have taken.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>ANewHope</td></tr><tr><td>Method:</td><td>count</td></tr><tr><td>Parameters:</td><td>vector &lt;int&gt;, vector &lt;int&gt;, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int count(vector &lt;int&gt; firstWeek, vector &lt;int&gt; lastWeek, int D)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Notes</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> can be calculated as the number of elements of <b>firstWeek</b></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>firstWeek</b> will contain between 2 and 2500 integers inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>firstWeek</b> and <b>lastWeek</b> will contain the same number of elements.</td></tr><tr><td align="center" valign="top">-</td><td><b>firstWeek</b> and <b>lastWeek</b> will represent permutations of the first <b>N</b> positive integers.</td></tr><tr><td align="center" valign="top">-</td><td><b>D</b> will be between 1 and <b>N-1</b> inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,3,4}</pre></td></tr><tr><td><pre>{4,3,2,1}</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">The example from the problem statement.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{8,5,4,1,7,6,3,2}</pre></td></tr><tr><td><pre>{2,4,6,8,1,3,5,7}</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{1,2,3,4}</pre></td></tr><tr><td><pre>{1,2,3,4}</pre></td></tr><tr><td><pre>2</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">Be careful, the first week and the last week can be the same week.</td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
