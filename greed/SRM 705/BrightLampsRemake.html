<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title>TopCoder SRM 705 - 1000: BrightLampsRemake</title>
    
    <link type="image/x-icon" rel="shortcut icon" href="http://www.topcoder.com/i/favicon.ico"/>
    

    
    <style type="text/css">
        /* font */
body {
    font-family: Helvetica, Arial, Verdana, sans-serif;
    font-size: 16px;
    line-height: 1.2em;
}
ul.constraints > li:before, ul.notes > li:before {
    font-family: monospace;
    font-weight: normal;
}
.heading {
    font-weight: bold;
    font-size: 175%;
    line-height: 1.2em;
}
.section .section-title {
    font-weight: bold;
    font-size: 125%;
}
ol.testcases > li:before {
    font-family: monospace;
}
type {
    font-weight: bold;
    font-family: monospace;
}
li.testcase .data {
    font-family: monospace;
    line-height: 1.5em;
}

/* layout */
.heading {
    margin-top: 0.1em;
    margin-bottom:0.1em;
    text-align: center;
}
.section .section-title {
    margin-top : 1em;
    margin-bottom: 1em;
}
.problem-intro, note, user-constraint {
    padding-left: 1.25em;
}

/* Lists */
ul.constraints, ul.notes, ul.variables, ul.problem-definition-lines {
    list-style-type: none;
    padding: 0px;
}
ul.constraints > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}
ul.notes > li:before {
    content: "-";
    position:relative;
    margin-left: 0px; /* optional, for multiline li element */
    left: 0.625em;
}

/* Testcases */
li.testcase {
    line-height: 1.1em;
    padding-top: 0.625em;
    padding-bottom: 0.625em;
    overflow: auto;
}
li.testcase > .testcase-content > div { padding-bottom: 0.5em; padding-left: 1em; }

li.testcase .testcase-comment {
    margin: 0;
    padding-left: 1em;
}
.testcase-comment p:first-child { margin-top: 0; }
.testcase-comment p:last-child { margin-bottom: 0; }

li.testcase .testcase-content {
    margin: 0.31em;
}

/* Data and variables */
.testcase-output {
    padding: 0.2em 1em 0.2em 0em;
}
.variables, .testcase-output {
    margin-left: 0.5em;
    display: table;
    margin-bottom: 0px;
    margin-top: 0px;
}
.variable {
    display: table-row;
}
.variable .name {
    padding: 0.2em 0em 0.2em 1em;
    font-weight: bold;
    display: table-cell;
    text-align: right;
}
.testcase-output .prefix {
    padding: 0.2em 0em 0.2em 1em;
    display: table-cell;
}
.testcase-output .prefix:after {
    content : ":";
    padding-right: 0.5em;
}
.variable .name:after {
    font-weight: bold;
    content : ":";
    padding-right: 0.5em;
}
.variable .value, .testcase-output .value {
    padding: 0.2em 1em 0.2em 0em;
    display: table-cell;
}
ol.testcases {
    padding: 0px;
    counter-reset: test_number -1;
}
ol.testcases > li {
    list-style:none;
}
ol.testcases > li:before {
    counter-increment:test_number;
    display: block;
    clear: both;
    content:counter(test_number) ")";
    color: inherit;
    background: inherit;
}

/* Problem Definition */
.problem-definition, .problem-limits {
    padding-left: 1.25em;
}
.problem-definition-lines, .limit-lines {
    display: table;
    margin-top: 0px;
    margin-bottom: 0px;
    padding-left: 0px;
}
.definition-line, .limit-line {
    display: table-row;
    height: 1.5em;
    overflow: auto;
}
.limit-name:after {
    content: ":";
    margin-right: 1em;
}
.definition-name, .definition-value, .limit-name, .limit-value {
    display: table-cell;
}
.definition-value {
    padding-left: 0.5em;
}
.definition-name:after {
    content: ":";
}
#contest-division:before {
    content: "Div ";
}
#problem-score:before {
    content: "- Problem ";
}
#problem-name {
    display: block;
}

/* Tags, hidden default */
.tag {
    visibility: hidden;
    position: absolute;
}

        body {
    /* font color */
    color: #333333;
    /* background color */
    background-color: white;
}
.section .section-title {
    /* title color */
    color: black;
}
li.testcase .data {
    /* highlight color */
    background: #eee;
}

    </style>
    
    
    

</head>

<body>
    <h1 class="heading">
        <span id='contest-name'>SRM 705</span>
        <span id='contest-division'>1</span>
        <span id='problem-score'>1000</span>
        <span id='problem-name'>BrightLampsRemake</span>
    </h1>

    <hr />

    <!-- Problem Statement -->
    <div class="section">
        <h2 class="section-title">Problem Statement</h2>
        <div class="problem-intro">
            <intro escaped="1"><i>This problem has a non-standard time limit: 4 seconds.</i>
<br />
<br />
There are lots of tasks about lamps and buttons.
Today you have to solve another one.
<br />
<br />
We have m lamps, numbered 0 through m-1.
You are given a <type>String</type> <b>init</b> with m characters.
The <type>String</type> <b>init</b> describes the initial state of the lamps.
If the i-th (0-based) character of <b>init</b> is '1', lamp i is initially turned on.
Otherwise, the i-th character of <b>init</b> is '0' which means that lamp i is initially turned off.
<br />
<br />
In addition to the m lamps there are n buttons, numbered 0 through n-1.
Each button is connected to some subset of lamps (possibly none or all of them).
You are given the information about the buttons in the <type>String[]</type> <b>buttons</b>.
For each i and j, <b>buttons</b>[i][j] is '1' if button i is connected to lamp j, or '0' if they aren't connected.
<br />
<br />
Pushing a button toggles all lamps that are connected to the button.
(I.e., the ones that were on are now off and vice versa.)
<br />
<br />
You already realized that the order in which you push the buttons does not matter.
You also realized that it doesn't make sense to push the same button twice, because that has the same effect as not pushing it at all.
Therefore, you have decided that you are going to push each button at most once.
This means that there are 2^n ways to push the buttons.
For each of those ways we are interested in the number of lamps that would be lit at the end.
<br />
<br />
Compute two values:
<ul>
<li>X = the largest possible number of lamps that will be turned on after you push some buttons</li>
<li>Y = the number of ways in which you can push some buttons so that in the final state exactly X lamps are turned on</li>
</ul>

Return the <type>long[]</type> {X, Y}.
(That is, a <type>long[]</type> of length 2 in which element 0 is X and element 1 is Y.)</intro>
        </div>
    </div>
    
    <!-- Problem definition -->
    
    <div class="section" id="definition">
        <h2 class="section-title">Definition</h2>
        <div class="problem-definition">
            <ul class="problem-definition-lines">
                <li class="definition-line" id='class-line'>
                    <span class='definition-name'>Class</span>
                    <span class='definition-value'>BrightLampsRemake</span>
                </li>
                <li class="definition-line" id='method-line'>
                    <span class='definition-name'>Method</span>
                    <span class='definition-value'>maxAndCount</span>
                </li>
                <li class="definition-line" id='parameters-line'>
                    <span class='definition-name'>Parameters</span>
                    <span class='definition-value'>
                    
                        string
                    , 
                        vector&lt;string&gt;
                    
                    </span>
                </li>
                <li class="definition-line" id='returns-line'>
                    <span class='definition-name'>Returns</span>
                    <span class='definition-value'>
                        vector&lt;long long&gt;
                    </span>
                </li>
                <li class="definition-line" id='signature-line'>
                    <span class='definition-name'>Method signature</span>
                    <span class='definition-value'>
                        vector&lt;long long&gt; maxAndCount(string init, vector&lt;string&gt; buttons)
                    </span>
                </li>
            </ul>
            <div class="problem-definition-public-tip">(be sure your method is public)</div>
        </div>        
    </div>
    

    <!-- Limits -->
    <div class="section">
        <h2 class="section-title">Limits</h2>
        <div class='problem-limits'>
            <ul class="limit-lines">
                <li class='limit-line'>
                    <span class='limit-name'>Time limit (s)</span>
                    <span class='limit-value'>4.000</span>
                </li>
                <li class='limit-line'>
                    <span class='limit-name'>Memory limit (MB)</span>
                    <span class='limit-value'>256</span>
                </li>
            </ul>
        </div>
    </div>

    
    
    <!-- Constraints -->
    <div class="section">
        <h2 class="section-title">Constraints</h2>
        <ul class="constraints">
        
            <li><user-constraint escaped="1">n will be between 1 and 50, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1">m will be between 1 and 50, inclusive.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>init</b> will contain exactly m characters.</user-constraint></li>
        
            <li><user-constraint escaped="1"><b>buttons</b> will contain exactly n elements.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each element in <b>buttons</b> will contain exactly m characters.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each character in <b>init</b> will be '0' or '1'.</user-constraint></li>
        
            <li><user-constraint escaped="1">Each character in <b>buttons</b> will be '0' or '1'.</user-constraint></li>
        
        </ul>
    </div>

    <!-- Test cases -->
    <div class="section">
        <h2 class="section-title">Test cases</h2>
        <ol class="testcases" start='0'>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">init</span>
                                <span class="value data">
                                
                                    &quot;0000&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">buttons</span>
                                <span class="value data">
                                
                                    {&quot;1010&quot;,<br />&nbsp;&quot;0100&quot;,<br />&nbsp;&quot;0001&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            { 4LL, 1LL }
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">In the beginning all lamps are off.
You can turn them all on by pushing each button once.
Thus, it is possible to have X = 4 lamps on.
The above way is the only way to achieve this number of lit lamps, hence Y = 1.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">init</span>
                                <span class="value data">
                                
                                    &quot;1011&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">buttons</span>
                                <span class="value data">
                                
                                    {&quot;0000&quot;,<br />&nbsp;&quot;0000&quot;,<br />&nbsp;&quot;0000&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            { 3LL, 8LL }
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">In the beginning three of the four lamps are turned on.
There are three buttons.
The buttons don't do anything.
Thus, we have X = 3, and each of the Y = 2^3 = 8 ways of pushing the buttons leads to a state in which three lamps are on.</div>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">init</span>
                                <span class="value data">
                                
                                    &quot;00000&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">buttons</span>
                                <span class="value data">
                                
                                    {&quot;11000&quot;,<br />&nbsp;&quot;01100&quot;,<br />&nbsp;&quot;00110&quot;,<br />&nbsp;&quot;00011&quot;,<br />&nbsp;&quot;10001&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            { 4LL, 10LL }
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">init</span>
                                <span class="value data">
                                
                                    &quot;10000&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">buttons</span>
                                <span class="value data">
                                
                                    {&quot;11000&quot;,<br />&nbsp;&quot;01100&quot;,<br />&nbsp;&quot;00110&quot;,<br />&nbsp;&quot;00011&quot;,<br />&nbsp;&quot;10001&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            { 5LL, 2LL }
                        
                        </span>
                    </div>
                    
               
                </div>
            </li>
            
            <li class="testcase">
                <div class="testcase-content">
                    <div class="testcase-input">
                        <div class='tag'>input</div>
                        <ul class="variables">
                        
                            <li class="variable data">
                                <span class="name data">init</span>
                                <span class="value data">
                                
                                    &quot;0&quot;
                                
                                </span>
                            </li>
                        
                            <li class="variable data">
                                <span class="name data">buttons</span>
                                <span class="value data">
                                
                                    {&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;,<br />&nbsp;&quot;0&quot;}
                                
                                </span>
                            </li>
                        
                        </ul>
                    </div>
                    <div class="testcase-output">
                        <div class='tag'>output</div>
                        <span class="prefix data">Returns</span>
                        <span class="value data">
                        
                            { 0LL, 1125899906842624LL }
                        
                        </span>
                    </div>
                    
                    <div class="testcase-annotation">
                        <div class='tag'>note</div>
                        <div class="testcase-comment">Watch for overflow.</div>
                    </div>
                    
               
                </div>
            </li>
            
        </ol>
    </div>
    <hr />

    This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2003, TopCoder, Inc. All rights reserved.
</body>
</html>
